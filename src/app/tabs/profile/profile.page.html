<ion-header translucent>
  <ion-toolbar>
    <ion-title>Profile</ion-title>

    <ion-buttons class="left" slot="start" (click)="viewProfile()" *ngIf="!isProfileView">
      Back
    </ion-buttons>

    <ion-buttons class="right" slot="start" (click)="viewPages()" *ngIf="isProfileView">
      Pages
    </ion-buttons>

    <!-- <ion-buttons class="right" slot="end" (click)="editProfile()" *ngIf="isProfileView">
      Edit
    </ion-buttons> -->

  </ion-toolbar>
</ion-header>
<ion-content>

    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)" color="primary">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    
    <app-loader *ngIf="isLoading && isProfileView" number="7"></app-loader>
   

    <form [formGroup]="updateProfileForm" (ngSubmit)="updateProfile()" *ngIf="!isProfileView">
      <ion-list lines="full" class="ion-no-margin ion-no-padding">

        <ion-item>
          <ion-input type="text" formControlName="first_name" placeholder="First name"></ion-input>
        </ion-item>

        <ion-item>  
          <ion-input type="text" formControlName="last_name" placeholder="Last name"></ion-input>
        </ion-item>


        <ion-item>
          <ion-label position="stacked">Choose Category<ion-text color="danger">*</ion-text></ion-label>
          <ion-select formControlName="artist_seller"  placeholder="Select option">
            <ion-select-option value="artist">Artist</ion-select-option>
            <ion-select-option value="seller">Seller</ion-select-option>
          </ion-select> 
        </ion-item> 

        <ion-item>
          <ion-label position="stacked">Choose Country<ion-text color="danger">*</ion-text></ion-label>
          <ion-select  formControlName="country"  placeholder="Select Country">
            <ion-select-option [value]="item.name" *ngFor="let item of countries" >{{item.name}}</ion-select-option>
          </ion-select> 
        </ion-item> 


        <ion-row class="marginFormSubmit" *ngIf="!isLoading"> 
          <ion-col size="3"></ion-col>
          <ion-col size="6">
            <ion-button type="submit" full size="Medium" expand="block">Update Profile</ion-button>
          </ion-col>
          <ion-col size="3"></ion-col>
        </ion-row>

        <app-loader *ngIf="isLoading"  number="0" message="Updating user profile..."></app-loader>
      </ion-list>
    </form>

    <div class="user-profile-container" *ngIf="user">
      <div class="view-profile" *ngIf="isProfileView">
        <app-loader *ngIf="isPictureUploading"  number="0" message="Updating profile picture"></app-loader>

        <div class="picture-block" *ngIf="!isPictureUploading">
          <div class="user-img" (click)="openFileChoose()"> 
            <img [src]="selectedFile">
            <div class="choose-file-input">
              <span>Edit Photo</span>
            </div>
          </div>
          <input style="display:none;" id="upfile" type="file" value="upload" (change)="fileSelected($event)"/>
          <div class="user-name"><h2 *ngIf="user.first_name">{{user.first_name}} {{user.last_name}}</h2></div>
        </div>  

        <ion-item *ngIf="user.email">
          <ion-label>
            <div><span>Email </span> <h2>{{user.email}}</h2></div>
          </ion-label>
        </ion-item>
        <ion-item *ngIf="user.first_name">
          <ion-label>
            <div><span>First Name </span> <h2>{{user.first_name}}</h2></div>
          </ion-label>
        </ion-item>
        <ion-item *ngIf="user.last_name">
          <ion-label>
            <div><span>Last Name </span> <h2>{{user.last_name}}</h2></div>
          </ion-label>
        </ion-item>
        <ion-item *ngIf="user.artist_seller">
          <ion-label>
            <div><span>Artist/Seller </span> <h2>{{user.artist_seller}}</h2></div>
          </ion-label>
        </ion-item>
        <ion-item *ngIf="user.country">
          <ion-label>
            <div><span>Country </span> <h2>{{user.country}}</h2></div>
          </ion-label>
        </ion-item>
        <ion-item *ngIf="user.country">
          <ion-label (click)="addDeliveryAddress()">
            <div><span class="add-delivery-address-button">Edit Delivery Address</span></div>
          </ion-label>
        </ion-item>

        <ion-row class="logout"> 
          <ion-col size="4"></ion-col>
          <ion-col size="4">
            <ion-button full size="Medium" expand="block" (click)="logout()">Logout</ion-button>
          </ion-col>
          <ion-col size="4"></ion-col>
        </ion-row>
       

      </div>
  </div>

 
  
   
 </ion-content>
 
 